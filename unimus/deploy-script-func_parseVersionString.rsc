/system script remove func_parseVersionString;
/system script add name="func_parseVersionString" policy=read comment="Function: func_parseVersionString" source=":local version { full=\"\$1\"; major=0; minor=0; patch=0 }\n:local segment 1;\n:local match \"\$1\";\n:local length [:len \$match];\n;\n:while (\$segment < 4) do={\n	:local part \"\";\n	:local result [:find \$match \".\"];\n	:if ([:typeof \$result] = \"num\") do={\n		:set part [:pick \$match 0 \$result];\n	} else={\n		:set part [:pick \$match 0 \$length];\n	};\n	:if (\$segment=1) do={\n		:set (\$version->\"major\") [:tonum \$part];\n	};\n	:if (\$segment=2) do={\n		:set (\$version->\"minor\") [:tonum \$part];\n	};\n	:if (\$segment=3) do={\n		:set (\$version->\"patch\") [:tonum \$part];\n	};\n	:if ([:typeof \$result] = \"num\") do={\n		:set segment (\$segment + 1);\n		:set match [:pick \$match (\$result + 1) \$length];\n        :set length [:len \$match];\n	} else={\n		:set segment 4;\n	};\n};\n:return \$version;\n"